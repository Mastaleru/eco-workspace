<psk-page title="Trial">
  <link rel="stylesheet" href="assets/css/trials.css" />
  <div class="d-flex flex-row" style="font-size: 18px !important">
    <webc-container controller="TrialController">
      <psk-link page="trials"> Trials </psk-link>
      <span> / </span>
      <div style="display: inline-block">
        <psk-label label="@id"> </psk-label>
      </div>
    </webc-container>
  </div>

  <br />

  <psk-tab-navigator default="0">
    <!-- *************** TRIAL TRACKING ******************** -->
    <psk-tab title="Trial Tracking">Trial Tracking</psk-tab>

    <!-- *************** PARTICIPANTS ******************** -->
    <psk-tab title="Participants">
      <webc-container controller="TrialParticipantsController">
        <!-- **************** PARTICIPANTS TOP BAR ************************* -->
        <div class="d-flex flex-wrap justify-content-between align-items-center mt-3 mb-3" style="margin-bottom: 20px">
          <div class="d-flex flex-column">
            <psk-input id="search-field-participants" view-model="search" event-name="filters-changed"></psk-input>
          </div>
        </div>

        <!-- *************** PARTICIPANTS TABLE ********************* -->
        <psk-condition condition="@participantsArrayNotEmpty">
          <div slot="condition-true">
            <webc-template template="table-template" data-view-model="@"></webc-template>
          </div>
          <div slot="condition-false">
            <div>No participants available.</div>
          </div>
        </psk-condition>
      </webc-container>
    </psk-tab>

    <!-- *************** INFORM CONSENTS ******************** -->
    <psk-tab title="Inform Consents">
      <webc-container controller="TrialConsentsController">
        <!-- **************** INFORM CONSENTS TOP BAR ************************* -->
        <div class="d-flex flex-wrap justify-content-between align-items-center mt-3 mb-3" style="margin-bottom: 20px">
          <div class="d-flex flex-column">
            <psk-input id="search-field-consents" view-model="search" event-name="filters-changed"></psk-input>
          </div>
          <button class="btn btn-primary" data-tag="add-consent">Add consent</button>
        </div>
        <!-- *************** INFORM CONSENT TABLE ********************* -->
        <psk-condition condition="@consentsArrayNotEmpty">
          <div slot="condition-true">
            <webc-template template="table-template" data-view-model="@"></webc-template>
          </div>
          <div slot="condition-false">
            <div>No consents available.</div>
          </div>
        </psk-condition>
      </webc-container>
    </psk-tab>

    <!-- *************** INFO ******************** -->
    <psk-tab title="Info">Info</psk-tab>

    <!-- *************** HISTORY ******************** -->
    <psk-tab title="History">History</psk-tab>
  </psk-tab-navigator>
</psk-page>
