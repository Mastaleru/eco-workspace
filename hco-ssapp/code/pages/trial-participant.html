<psk-page title="Home">
    <link rel="stylesheet" href="/assets/css/pages/trial-participant.css">
    <webc-container controller="TrialParticipantController">

        <div class="main-background">
            <div class="front">

                <div class="top-container">
                    <div class="pharma-logo">
                        <psk-img class="ed-control-image" src="assets/images/pharmalogo.png"
                                 height='47' width='110'></psk-img>
                    </div>
                    <div>
                        <psk-label class="main-title">Trial Subject: {{@tp.name}}</psk-label>
                    </div>
                    <button class="logout-button" data-tag="logout">Logout</button>
                </div>

                <div class="top-buttons">

                    <div class="button-slot" data-if="@tp.hcoSigned">
                        <div slot="true">
                            <button class="tp-button left" data-tag="tp:visits">Visits and Procedures</button>
                        </div>
                    </div>

                    <div class="button-slot" data-if="@tp.tpNumber">
                        <div slot="false">
                            <div data-if="@tp.tpSigned">
                                <button class="tp-button" data-tag="tp:setTpNumber">Set TS Number</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="general-table">
                    <psk-layout columns="7" class="justify-content-center align-items-center table-row">
                        <psk-label class="table-title">Consent Name & ID</psk-label>
                        <psk-label class="table-title">Type</psk-label>
                        <psk-label class="table-title">Active Version Approved</psk-label>
                        <psk-label class="table-title">TS Signature</psk-label>
                        <psk-label class="table-title">TS Withdraw</psk-label>
                        <psk-label class="table-title">HCP Signature</psk-label>
                        <psk-label class="table-title">Options</psk-label>
                    </psk-layout>
                    <hr/>
                </div>

                <div class="general-table body" data-for="@econsents">
                    <psk-layout columns="7" class="justify-content-center align-items-center table-row">
                        <psk-label class="table-cell">{{@name}}</psk-label>
                        <psk-label class="table-cell">{{@type}}</psk-label>
                        <psk-label class="table-cell">{{@lastVersion}}</psk-label>
                        <psk-label class="table-cell">{{@tsSignedDate}}</psk-label>
                        <div data-if="@tsWithdrawedIntentionDate">
                            <div slot="true">
                                <psk-label class="table-cell red">{{@tsWithdrawedIntentionDate}}</psk-label>
                            </div>
                            <div slot="false">
                                <psk-label class="table-cell">{{@tsWithdrawDate}}</psk-label>
                            </div>
                        </div>

                        <psk-label class="table-cell">{{@hcoDate}}</psk-label>
                        <div class="table-cell">
                            <div data-if="@showSignButton">
                                <button data-if="@showSignButton" class="link-button sign-adjust-margin" data="@id" data-tag="consent:sign">Sign</button>
                            </div>
                            <div data-if="@showViewButton">
                                <button  data-if="@showViewButton" class="link-button view-adjust-margin" data="@id" data-tag="consent:view">View</button>
                            </div>
                            <div data-if="@showContactButton">
                                <button data-if="@showContactButton" class="link-button" data="@id" data-tag="consent:contactTS">Contact TS</button>
                            </div>
                            <div>
                                <psk-label> | </psk-label>
                                <button class="link-button" data-tag="consent:history" data="@id">History</button>
                            </div>
                        </div>
                    </psk-layout>
                    <hr>
                </div>

                <button class="back-button" data-tag="back">Back</button>
            </div>

            <div class="eu-container">
                <div class="left-image-eu">
                    <psk-img class="ed-control-image" src="assets/images/flageu.png"
                             height='80' width='123'></psk-img>
                </div>
                <div class="right-text-eu">
                    <strong>
                        <psk-label class="eu-text">This project has received funding from the European Union’s
                            Horizon
                            2020 research and innovation programme under <br/>
                            grant agreement No 853992 Copyright <br/>
                            <span>&copy;  PharmaLedger Consortium 2020 – 2023</span>
                        </psk-label>
                    </strong>
                </div>

            </div>

        </div>
    </webc-container>
</psk-page>

